<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Source Report for MeterFilter.java</title>
    <link href="resources/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="resources/css/font-awesome.min.css" rel="stylesheet" />
    <link href="resources/css/windup.css" rel="stylesheet" media="screen"/>
    <link rel="stylesheet" type="text/css" href="resources/libraries/snippet/jquery.snippet.min.css" />
    <link rel="stylesheet" type="text/css" href="resources/css/windup-source.css" />
    <link rel="stylesheet" type="text/css" href="resources/libraries/sausage/sausage.css" />
    <link rel="shortcut icon" href="resources/img/mta-icon.png" type="image/x-icon"/>
</head>
<body role="document" class="source-report">

    <div class="navbar navbar-inverse navbar-fixed-top" id="main-navbar" style="display: none">
        <div class="wu-navbar-header navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <span class="wu-navbar-header">
              <strong class="wu-navbar-header">Migration Toolkit for Applications</strong><img align="right" class="wu-navbar-header" src="resources/img/Logo-RedHat-A-Reverse-RGB.png" />
            </span>        </div>


                <div class="navbar-collapse collapse navbar-responsive-collapse project-specific" data-project-id="8192152">
    <ul class="nav navbar-nav">
            <li class="">
                <a href="../index.html"><i class="glyphicon glyphicon-home"></i> All Applications</a>
            </li>



                <li class="">
                    <a href="report_index_spring_petclinic_rest.html">
                        <i class="glyphicon glyphicon-dashboard"></i>
                      Dashboard
                    </a>
                </li>


                <li class="">
                    <a href="migration_issues.html">
                        <i class="glyphicon glyphicon-warning-sign"></i>
                      Issues
                    </a>
                </li>


                <li class="">
                    <a href="ApplicationDetails_spring_petclinic_rest.html">
                        <i class="glyphicon glyphicon-th-list"></i>
                      Application Details
                    </a>
                </li>


                <li class="">
                    <a href="techReport_spring_petclinic_rest.html">
                        <i class="fa fa-rocket"></i>
                      Technologies
                    </a>
                </li>


                <li class="">
                    <a href="dependency_graph_report.html">
                        <i class="glyphicon glyphicon-tree-deciduous"></i>
                      Dependencies Graph
                    </a>
                </li>


                <li class="">
                    <a href="dependency_report_spring_petclinic_rest.html">
                        <i class="glyphicon glyphicon-retweet"></i>
                      Dependencies
                    </a>
                </li>


                <li class="">
                    <a href="Unparsable_spring_petclinic_rest.html">
                        <i class="glyphicon glyphicon-warning-sign"></i>
                      Unparsable
                    </a>
                </li>


                <li class="">
                    <a href="remotereport_spring_petclinic_rest.html">
                        <i class="glyphicon service-nav-logo"></i>
                      Remote Services
                    </a>
                </li>


                <li class="">
                    <a href="jpa_spring_petclinic_rest.html">
                        <i class="glyphicon jpa-nav-logo"></i>
                      JPA
                    </a>
                </li>


                <li class="">
                    <a href="ignoredfiles_spring_petclinic_rest.html">
                        <i class="glyphicon glyphicon-eye-close"></i>
                      Ignored Files
                    </a>
                </li>


                <li class="">
                    <a href="about_spring_petclinic_rest.html">
                        <i class="fa fa-question-circle"></i>
                      About
                    </a>
                </li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
<li>
    <a href="#" class="feedback-nav-btn jiraFeedbackTrigger"><i class="glyphicon glyphicon-comment"></i> Send Feedback </a>
</li>


    <script type="text/javascript" src="https://issues.jboss.org/s/f215932e68571747ac58d0f5d554396f-T/en_US-r7luaf/6346/82/1.4.16/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&amp;collectorId=8b9e338b"></script>

    <script type="text/javascript">

    var FEEDBACK_JS_ADDED = false;
    var FEEDBACK_FORM_TRIGGER = null;

    function displayFeedbackForm() {
        FEEDBACK_FORM_TRIGGER();
    }

    window.ATL_JQ_PAGE_PROPS = {
        "triggerFunction": function(showCollectorDialog) {
            FEEDBACK_FORM_TRIGGER = showCollectorDialog;
        }
    };

    document.addEventListener("DOMContentLoaded", function(event) {
            jQuery(".jiraFeedbackTrigger").click(function(e) {
                e.preventDefault();
                displayFeedbackForm();
            });
    });
    </script>
    </ul>
                </div><!-- /.nav-collapse -->
    </div>


    <div class="container-fluid" role="main">
        <div class="row">
            <div class="page-header page-header-no-border">
                <h1>
                    <div class="main">Source Report
                    <i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement=right title="This report displays what Migration Toolkit for Applications by Red Hat found in individual files. Each item is shown below the line it was found on, and next to it, you may find a link to the rule which it was found by."></i></div>

                        <div class="path project-specific" data-project-id="8192152">
                            spring-petclinic-rest-2.4.2.jar/BOOT-INF/lib/micrometer-core-1.6.3.jar/io/micrometer/core/instrument/config/MeterFilter.java
                        </div>
                </h1>
            </div>
        </div>

        <div class="row">
            <div class="container-fluid theme-showcase" role="main">

                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h3 class="panel-title">Information</h3>
                    </div>
                    <div class="panel-body" style="overflow: auto;">

                        <!--<div style="height: 120pt; float:left;"></div> Keeps the minimal height. -->
                        <div class="points" style="text-align: center; color: #00254b; padding-bottom: 1ex;">
                            <div class="number">25</div>
                            <div>Story Points</div>
                        </div>

                        <div class="info" style="margin-left: 95pt;">


                                <h4>Technologies</h4>
                                <div class="technologies" style="overflow: auto"><!-- "auto" to contain all the tags. -->
                                        <span class="label label-info" title="INFORMATIONAL">Decompiled Java File</span>
                                </div>



                            <div style="clear: both;"/><!-- Snaps under the height keeper. Yes, the same effect could be achieved by a table. -->
                        </div><!-- .info -->
                    </div>
                </div>



                <pre id="source">
package io.micrometer.core.instrument.config;

import io.micrometer.core.instrument.Tag;
import io.micrometer.core.instrument.Tags;
import io.micrometer.core.instrument.Meter.Id;
import io.micrometer.core.instrument.Meter.Type;
import io.micrometer.core.instrument.distribution.DistributionStatisticConfig;
import io.micrometer.core.lang.Nullable;
import java.time.Duration;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Set;
import java.util.concurrent.ConcurrentHashMap;
import java.util.function.Function;
import java.util.function.Predicate;
import java.util.stream.Collectors;
import java.util.stream.StreamSupport;

public interface MeterFilter {
   static MeterFilter commonTags(final Iterable&lt;Tag&gt; tags) {
      return new MeterFilter() {
         public Id map(Id id) {
            return id.replaceTags(Tags.concat(tags, id.getTagsAsIterable()));
         }
      };
   }

   static MeterFilter renameTag(final String meterNamePrefix, final String fromTagKey, final String toTagKey) {
      return new MeterFilter() {
         public Id map(Id id) {
            if (!id.getName().startsWith(meterNamePrefix)) {
               return id;
            } else {
               List&lt;Tag&gt; tags = new ArrayList();
               Iterator var3 = id.getTagsAsIterable().iterator();

               while(var3.hasNext()) {
                  Tag tag = (Tag)var3.next();
                  if (tag.getKey().equals(fromTagKey)) {
                     tags.add(Tag.of(toTagKey, tag.getValue()));
                  } else {
                     tags.add(tag);
                  }
               }

               return id.replaceTags(tags);
            }
         }
      };
   }

   static MeterFilter ignoreTags(final String... tagKeys) {
      return new MeterFilter() {
         public Id map(Id id) {
            List&lt;Tag&gt; tags = (List)StreamSupport.stream(id.getTagsAsIterable().spliterator(), false).filter((t) -&gt; {
               String[] var2 = tagKeys;
               int var3 = tagKeys.length;

               for(int var4 = 0; var4 &lt; var3; ++var4) {
                  String tagKey = var2[var4];
                  if (t.getKey().equals(tagKey)) {
                     return false;
                  }
               }

               return true;
            }).collect(Collectors.toList());
            return id.replaceTags(tags);
         }
      };
   }

   static MeterFilter replaceTagValues(final String tagKey, final Function&lt;String, String&gt; replacement, final String... exceptions) {
      return new MeterFilter() {
         public Id map(Id id) {
            List&lt;Tag&gt; tags = (List)StreamSupport.stream(id.getTagsAsIterable().spliterator(), false).map((t) -&gt; {
               if (!t.getKey().equals(tagKey)) {
                  return t;
               } else {
                  String[] var4 = exceptions;
                  int var5 = exceptions.length;

                  for(int var6 = 0; var6 &lt; var5; ++var6) {
                     String exception = var4[var6];
                     if (t.getValue().equals(exception)) {
                        return t;
                     }
                  }

                  return Tag.of(tagKey, (String)replacement.apply(t.getValue()));
               }
            }).collect(Collectors.toList());
            return id.replaceTags(tags);
         }
      };
   }

   static MeterFilter denyUnless(final Predicate&lt;Id&gt; iff) {
      return new MeterFilter() {
         public MeterFilterReply accept(Id id) {
            return iff.test(id) ? MeterFilterReply.NEUTRAL : MeterFilterReply.DENY;
         }
      };
   }

   static MeterFilter accept(final Predicate&lt;Id&gt; iff) {
      return new MeterFilter() {
         public MeterFilterReply accept(Id id) {
            return iff.test(id) ? MeterFilterReply.ACCEPT : MeterFilterReply.NEUTRAL;
         }
      };
   }

   static MeterFilter deny(final Predicate&lt;Id&gt; iff) {
      return new MeterFilter() {
         public MeterFilterReply accept(Id id) {
            return iff.test(id) ? MeterFilterReply.DENY : MeterFilterReply.NEUTRAL;
         }
      };
   }

   static MeterFilter accept() {
      return accept((id) -&gt; {
         return true;
      });
   }

   static MeterFilter deny() {
      return deny((id) -&gt; {
         return true;
      });
   }

   static MeterFilter maximumAllowableMetrics(final int maximumTimeSeries) {
      return new MeterFilter() {
         private final Set&lt;Id&gt; ids = ConcurrentHashMap.newKeySet();

         public MeterFilterReply accept(Id id) {
            if (this.ids.size() &gt; maximumTimeSeries) {
               return MeterFilterReply.DENY;
            } else {
               this.ids.add(id);
               return this.ids.size() &gt; maximumTimeSeries ? MeterFilterReply.DENY : MeterFilterReply.NEUTRAL;
            }
         }
      };
   }

   static MeterFilter maximumAllowableTags(final String meterNamePrefix, final String tagKey, final int maximumTagValues, final MeterFilter onMaxReached) {
      return new MeterFilter() {
         private final Set&lt;String&gt; observedTagValues = ConcurrentHashMap.newKeySet();

         public MeterFilterReply accept(Id id) {
            String value = this.matchNameAndGetTagValue(id);
            if (value != null &amp;&amp; !this.observedTagValues.contains(value)) {
               if (this.observedTagValues.size() &gt;= maximumTagValues) {
                  return onMaxReached.accept(id);
               }

               this.observedTagValues.add(value);
            }

            return MeterFilterReply.NEUTRAL;
         }

         @Nullable
         private String matchNameAndGetTagValue(Id id) {
            return id.getName().startsWith(meterNamePrefix) ? id.getTag(tagKey) : null;
         }

         public DistributionStatisticConfig configure(Id id, DistributionStatisticConfig config) {
            String value = this.matchNameAndGetTagValue(id);
            return value != null &amp;&amp; !this.observedTagValues.contains(value) &amp;&amp; this.observedTagValues.size() &gt;= maximumTagValues ? onMaxReached.configure(id, config) : config;
         }
      };
   }

   static MeterFilter denyNameStartsWith(String prefix) {
      return deny((id) -&gt; {
         return id.getName().startsWith(prefix);
      });
   }

   static MeterFilter acceptNameStartsWith(String prefix) {
      return accept((id) -&gt; {
         return id.getName().startsWith(prefix);
      });
   }

   static MeterFilter maxExpected(final String prefix, final Duration max) {
      return new MeterFilter() {
         public DistributionStatisticConfig configure(Id id, DistributionStatisticConfig config) {
            return id.getType() == Type.TIMER &amp;&amp; id.getName().startsWith(prefix) ? DistributionStatisticConfig.builder().maximumExpectedValue((double)max.toNanos()).build().merge(config) : config;
         }
      };
   }

   /** @deprecated */
   @Deprecated
   static MeterFilter maxExpected(String prefix, long max) {
      return maxExpected(prefix, (double)max);
   }

   static MeterFilter maxExpected(final String prefix, final double max) {
      return new MeterFilter() {
         public DistributionStatisticConfig configure(Id id, DistributionStatisticConfig config) {
            return id.getType() == Type.DISTRIBUTION_SUMMARY &amp;&amp; id.getName().startsWith(prefix) ? DistributionStatisticConfig.builder().maximumExpectedValue(max).build().merge(config) : config;
         }
      };
   }

   static MeterFilter minExpected(final String prefix, final Duration min) {
      return new MeterFilter() {
         public DistributionStatisticConfig configure(Id id, DistributionStatisticConfig config) {
            return id.getType() == Type.TIMER &amp;&amp; id.getName().startsWith(prefix) ? DistributionStatisticConfig.builder().minimumExpectedValue((double)min.toNanos()).build().merge(config) : config;
         }
      };
   }

   /** @deprecated */
   @Deprecated
   static MeterFilter minExpected(String prefix, long min) {
      return minExpected(prefix, (double)min);
   }

   static MeterFilter minExpected(final String prefix, final double min) {
      return new MeterFilter() {
         public DistributionStatisticConfig configure(Id id, DistributionStatisticConfig config) {
            return id.getType() == Type.DISTRIBUTION_SUMMARY &amp;&amp; id.getName().startsWith(prefix) ? DistributionStatisticConfig.builder().minimumExpectedValue(min).build().merge(config) : config;
         }
      };
   }

   default MeterFilterReply accept(Id id) {
      return MeterFilterReply.NEUTRAL;
   }

   default Id map(Id id) {
      return id;
   }

   @Nullable
   default DistributionStatisticConfig configure(Id id, DistributionStatisticConfig config) {
      return config;
   }
}
</pre>
            </div> <!-- /container -->
        </div><!-- /row-->
    </div><!-- /container main-->


<div style="text-align: left; font-size: small; color: gray; font-style: italic;">Page generated: Nov 17, 2021, 12:44:00 PM</div>
    <script src="resources/js/jquery-3.3.1.min.js"></script>
    <script src="resources/js/jquery-migrate-1.4.1.min.js"></script>
    <script src="resources/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="resources/libraries/jquery-ui/jquery.ui.widget.js"></script>
    <script type="text/javascript" src="resources/libraries/snippet/jquery.snippet.min.js"></script>
    <script type="text/javascript" src="resources/libraries/snippet/jquery.snippet.java-properties.js"></script>
    <script type="text/javascript" src="resources/libraries/snippet/jquery.snippet.java-manifest.js"></script>
    <script type="text/javascript" src="resources/libraries/sausage/jquery.sausage.min.js"></script>

    <script type="text/javascript">
        var script   = document.createElement("script");
        script.type  = "text/javascript";
            script.src   = "resources/js/navbar.js";
        document.body.appendChild(script);
    </script>

    <script type="text/javascript">
        $(window).on("hashchange", function () {
            window.scrollTo(window.scrollX, window.scrollY - 50);
        });
        function offsetAnchor() {
            if(location.hash.length !== 0) {
                window.scrollTo(window.scrollX, window.scrollY - 50);
            }
        }
        window.setTimeout(function() {
            offsetAnchor();
        }, 1);
        $(document).ready(function(){
            $("pre").snippet("java",{style:"ide-eclipse", showNum:true,boxFill:"#ffeeb9", box: "3,6,4,5,7" });

            $("<div id='3-inlines' class='inline-source-hint-group'/>").appendTo('ol.snippet-num li:nth-child(3)');
            $("<div id='6-inlines' class='inline-source-hint-group'/>").appendTo('ol.snippet-num li:nth-child(6)');
            $("<div id='4-inlines' class='inline-source-hint-group'/>").appendTo('ol.snippet-num li:nth-child(4)');
            $("<div id='5-inlines' class='inline-source-hint-group'/>").appendTo('ol.snippet-num li:nth-child(5)');
            $("<div id='7-inlines' class='inline-source-hint-group'/>").appendTo('ol.snippet-num li:nth-child(7)');


$("<a name='10064032' class='windup-file-location'></a><div class='inline-source-comment green tag-none'><div class='inline-comment'><div class='inline-comment-heading'><strong class='notification warning'>Replace the Micrometer code with Microprofile Metrics code</strong><a title='View Rule: springboot-metrics-to-quarkus-0200' href='windup_ruleproviders.html#springboot-metrics-to-quarkus-0200'><span class='glyphicon glyphicon-link rule-link floatRight'></span></a></div><div class='inline-comment-body'><p>Replace the Micrometer code with Microprofile Metrics code<\/p><ul><li><a href='https://quarkus.io/guides/microprofile-metrics' target='_blank'>Quarkus metrics</a></li></ul></div></div></div>").appendTo('#3-inlines');

$("<a name='10428520' class='windup-file-location'></a><div class='inline-source-comment green tag-none'><div class='inline-comment'><div class='inline-comment-heading'><strong class='notification warning'>Replace the Micrometer code with Microprofile Metrics code</strong><a title='View Rule: springboot-metrics-to-quarkus-0200' href='windup_ruleproviders.html#springboot-metrics-to-quarkus-0200'><span class='glyphicon glyphicon-link rule-link floatRight'></span></a></div><div class='inline-comment-body'><p>Replace the Micrometer code with Microprofile Metrics code<\/p><ul><li><a href='https://quarkus.io/guides/microprofile-metrics' target='_blank'>Quarkus metrics</a></li></ul></div></div></div>").appendTo('#6-inlines');

$("<a name='10653888' class='windup-file-location'></a><div class='inline-source-comment green tag-none'><div class='inline-comment'><div class='inline-comment-heading'><strong class='notification warning'>Replace the Micrometer code with Microprofile Metrics code</strong><a title='View Rule: springboot-metrics-to-quarkus-0200' href='windup_ruleproviders.html#springboot-metrics-to-quarkus-0200'><span class='glyphicon glyphicon-link rule-link floatRight'></span></a></div><div class='inline-comment-body'><p>Replace the Micrometer code with Microprofile Metrics code<\/p><ul><li><a href='https://quarkus.io/guides/microprofile-metrics' target='_blank'>Quarkus metrics</a></li></ul></div></div></div>").appendTo('#4-inlines');

$("<a name='10739936' class='windup-file-location'></a><div class='inline-source-comment green tag-none'><div class='inline-comment'><div class='inline-comment-heading'><strong class='notification warning'>Replace the Micrometer code with Microprofile Metrics code</strong><a title='View Rule: springboot-metrics-to-quarkus-0200' href='windup_ruleproviders.html#springboot-metrics-to-quarkus-0200'><span class='glyphicon glyphicon-link rule-link floatRight'></span></a></div><div class='inline-comment-body'><p>Replace the Micrometer code with Microprofile Metrics code<\/p><ul><li><a href='https://quarkus.io/guides/microprofile-metrics' target='_blank'>Quarkus metrics</a></li></ul></div></div></div>").appendTo('#5-inlines');

$("<a name='20115608' class='windup-file-location'></a><div class='inline-source-comment green tag-none'><div class='inline-comment'><div class='inline-comment-heading'><strong class='notification warning'>Replace the Micrometer code with Microprofile Metrics code</strong><a title='View Rule: springboot-metrics-to-quarkus-0200' href='windup_ruleproviders.html#springboot-metrics-to-quarkus-0200'><span class='glyphicon glyphicon-link rule-link floatRight'></span></a></div><div class='inline-comment-body'><p>Replace the Micrometer code with Microprofile Metrics code<\/p><ul><li><a href='https://quarkus.io/guides/microprofile-metrics' target='_blank'>Quarkus metrics</a></li></ul></div></div></div>").appendTo('#7-inlines');


            $('code[class]').each(function(){
                 var codeSyntax = ($(this).attr('class'));
                 if(codeSyntax) {
                    $(this).parent().snippet(codeSyntax,{style:'ide-eclipse', menu:false, showNum:false});
                 }
            });
            $(window).sausage({ page: 'li.box' });
            $(window).resize(function () {
                $('div.sausage-set').css('top', parseInt($('#main-navbar').css("height")));
            });

            // Deprecated
            // $(window).load(function () {
            //     $('div.sausage-set').css('top', parseInt($('#main-navbar').css("height")));
            // });
            $(window).on('load', function () {
                $('div.sausage-set').css('top', parseInt($('#main-navbar').css("height")));
            });
        });

        function qs(key) {
            key = key.replace(/[*+?^$.\[\]{}()|\\\/]/g, "\\$&"); // escape RegEx meta chars
            var match = location.search.match(new RegExp("[?&]"+key+"=([^&]+)(&|$)"));
            return match && decodeURIComponent(match[1].replace(/\+/g, " "));
        }

        $(document).ready(function() {
            var defaultProjectID = 8192152;
            var selectedProject = qs("project");
            if (!selectedProject)
                selectedProject = defaultProjectID;

            $(".project-specific").each(function(index, element) {
                var currentProject = $(element).data("project-id");

                if (currentProject == selectedProject)
                    $(element).show();
                else
                    $(element).remove();
            });
            $("#main-navbar").show();
        });
    </script>
    <script>$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();});</script>
</body>
</html>
